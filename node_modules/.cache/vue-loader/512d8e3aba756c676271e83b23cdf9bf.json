{"remainingRequest":"/home/ubuntu/acs/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/acs/src/views/components/Configuration.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/acs/src/views/components/Configuration.vue","mtime":1747185179184},{"path":"/home/ubuntu/acs/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ubuntu/acs/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/home/ubuntu/acs/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ubuntu/acs/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBodHRwIGZyb20gIkAvaHR0cC1jb21tb24iOwppbXBvcnQgY29uZmlnIGZyb20gIkAvaHR0cC1jb25maWciOwoKICBleHBvcnQgZGVmYXVsdCB7CiAgICBkYXRhOiAoKSA9PiAoewogICAgICBtb2RlbEFycmF5OiBbXSwKICAgICAgZGF0YWxvYWRlZDogMCwKICAgICAgcmVxdWVzdEZhaWxlZDogMCwKICAgICAgaXNDYW5jZWw6IGZhbHNlLAogICAgICBpc1NhdmU6IGZhbHNlLAogICAgICB2YWxpZDogZmFsc2UsCiAgICAgIGN2YWxpZDogZmFsc2UsCiAgICAgIGNkaWFsb2c6IGZhbHNlLAogICAgICBkaWFsb2c6IGZhbHNlLAogICAgICBkaWFsb2dEZWxldGU6IGZhbHNlLAogICAgICBjZGlhbG9nRGVsZXRlOiBmYWxzZSwKICAgICAgZGlhbG9nQ2FuY2VsOiBmYWxzZSwKICAgICAgZGF0YVRyYWNrZXI6IFtdLAogICAgICBwYXJlbnRfd2F0Y2hlcjogJycsCiAgICAgIGhlYWRlcnM6IFsKICAgICAgICB7CiAgICAgICAgICB0ZXh0OiAnU1NJRCcsCiAgICAgICAgICBhbGlnbjogJ3N0YXJ0JywKICAgICAgICAgIHNvcnRhYmxlOiBmYWxzZSwKICAgICAgICAgIHZhbHVlOiAnc3NpZCcsCiAgICAgICAgfSwKICAgICAgICB7IHRleHQ6ICdXTEFOIElEJywgdmFsdWU6ICd3bGFuX2lkJyB9LAogICAgICAgIHsgdGV4dDogJ0VuY3J5cHRpb24gTW9kZScsIHZhbHVlOiAnZW5jcnlwdGlvbl9tb2RlJyB9LAogICAgICAgIHsgdGV4dDogJ1BvcnRhbCBVUkwnLCB2YWx1ZTogJ3BvcnRhbF91cmwnIH0sCiAgICAgICAgeyB0ZXh0OiAnR2F0ZXdheSBJRCcsIHZhbHVlOiAnZ2F0ZXdheV9pZCcgfSwKICAgICAgICB7IHRleHQ6ICdBY3Rpb24nLCB2YWx1ZTogJ2FjdGlvbnMnLCBzb3J0YWJsZTogZmFsc2UgfSwKICAgICAgXSwKICAgICAgY2xpaGVhZGVyczogWwogICAgICAgIHsgdGV4dDogJ01vZGVsJywgdmFsdWU6ICdtb2RlbCcgfSwKICAgICAgICB7IHRleHQ6ICdEZXNjcmlwdGlvbicsIHZhbHVlOiAnZGVzY3JpcHRpb24nIH0sCiAgICAgICAgeyB0ZXh0OiAnQWN0aW9uJywgdmFsdWU6ICdhY3Rpb25zJywgc29ydGFibGU6IGZhbHNlIH0sCiAgICAgIF0sCiAgICAgIGxpc3Q6IFtdLAogICAgICB0aW1lcjogJycsCiAgICAgIGdyb3VwX2xpc3Q6IFtdLAogICAgICBzc2lkTGlzdDogW10sCiAgICAgIGdyb3VwX3BhcmVudDogJycsCiAgICAgIHNzaWQ6IFtdLAogICAgICBhbGxfc3NpZDogW10sCiAgICAgIGRldmljZTogW10sCiAgICAgIGFsbF9kZXZpY2U6IFtdLAogICAgICBkZXZpY2U6IFtdLAogICAgICBhbGxfZGV2aWNlOiBbXSwKICAgICAgd2xhbmlkOiBbXSwKICAgICAgYWxsX2NvbW1hbmQ6IFtdLAogICAgICBjb21tYW5kOiBbXSwKICAgICAgZWRpdGVkSW5kZXg6IC0xLAogICAgICBjSW5kZXg6IC0xLAogICAgICBhbGxzc2lkSW5kZXg6IC0xLAogICAgICBlZGl0ZWRJdGVtOiB7CiAgICAgICAgaWQ6IDAsCiAgICAgICAgd2xhbl9pZDogJycsCiAgICAgICAgc3NpZDogJycsCiAgICAgICAgZm9yd2FyZF9tb2RlOiAnQnJpZGdlJywKICAgICAgICBlbmNyeXB0aW9uX21vZGU6ICdPcGVuJywKICAgICAgICBwYXNzcGhyYXNlOiAnJywKICAgICAgICBwb3J0YWxfdXJsOiAnJywKICAgICAgICB2bGFuX2lkOiAxLAogICAgICAgIHVwbGluazogMCwKICAgICAgICBkb3dubGluazogMCwKICAgICAgICBsaW1pdGxlc3M6IGZhbHNlLAogICAgICAgIGF1dGg6IGZhbHNlLAogICAgICAgIHBvcnRhbF9pcDogJycsCiAgICAgICAgcGFyZW50OiAnJywKICAgICAgICBnYXRld2F5X2lkOiAnJywKICAgICAgICBzZWFtbGVzczogZmFsc2UsCiAgICAgIH0sCiAgICAgIGRlZmF1bHRJdGVtOiB7CiAgICAgICAgbW9kZWw6ICdBTEwnLAogICAgICAgIHdsYW5faWQ6ICcnLAogICAgICAgIHNzaWQ6ICcnLAogICAgICAgIGZvcndhcmRfbW9kZTogJ0JyaWRnZScsCiAgICAgICAgZW5jcnlwdGlvbl9tb2RlOiAnT3BlbicsCiAgICAgICAgcG9ydGFsX3VybDogJycsCiAgICAgICAgdmxhbl9pZDogMSwKICAgICAgICB1cGxpbms6IDE0NDAwLAogICAgICAgIGRvd25saW5rOiAxNDQwMCwKICAgICAgICBsaW1pdGxlc3M6IGZhbHNlLAogICAgICAgIGF1dGg6IGZhbHNlLAogICAgICAgIHBvcnRhbF9pcDogJycsCiAgICAgICAgZ2F0ZXdheV9pZDogJycsCiAgICAgICAgc2VhbWxlc3M6IGZhbHNlLAogICAgICB9LAogICAgICBjaXRlbXM6IHsKICAgICAgICBtb2RlbDogJycsCiAgICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICAgIGNvbW1hbmQ6ICcnLAogICAgICAgIHBhcmVudDogJycsCiAgICAgIH0sCiAgICAgIHZsYW5SdWxlczogWwogICAgICAgIHYgPT4gISF2IHx8ICdWTEFOIGlzIHJlcXVpcmVkJywKICAgICAgICB2ID0+IS9cRC8udGVzdCh2KSB8fCAnSW52YWxpZCBWbGFuJywKICAgICAgXSwKICAgICAgc3NpZFJ1bGVzOiBbCiAgICAgICAgdiA9PiAhIXYgfHwgJ1NTSUQgaXMgcmVxdWlyZWQnLAogICAgICBdLAogICAgICBwb3J0YWxSdWxlczogWwogICAgICAgIHYgPT4gISF2IHx8ICdVUkwgaXMgcmVxdWlyZWQnLAogICAgICAgIHYgPT4gLy4rXC4uKy8udGVzdCh2KSB8fCAnVVJMIG11c3QgbXVzdCBiZSB2YWxpZCcsCiAgICAgIF0sCiAgICAgIGlwUnVsZXM6IFsKICAgICAgICB2ID0+ICEhdiB8fCAnSVAgaXMgcmVxdWlyZWQnLAogICAgICAgIHYgPT4gL14oMjVbMC01XXwyWzAtNF1bMC05XXxbMDFdP1swLTldWzAtOV0/KVwuKDI1WzAtNV18MlswLTRdWzAtOV18WzAxXT9bMC05XVswLTldPylcLigyNVswLTVdfDJbMC00XVswLTldfFswMV0/WzAtOV1bMC05XT8pXC4oMjVbMC01XXwyWzAtNF1bMC05XXxbMDFdP1swLTldWzAtOV0/KSQvLnRlc3QodikgfHwgJ0lQIG11c3QgbXVzdCBiZSB2YWxpZCcsCiAgICAgIF0sCiAgICB9KSwKCiAgICBjb21wdXRlZDogewogICAgICBmb3JtVGl0bGUgKCkgewogICAgICAgIHJldHVybiB0aGlzLmVkaXRlZEluZGV4ID09PSAtMSA/ICdOZXcgU1NJRCcgOiAnRWRpdCBTU0lEJwogICAgICB9LAogICAgICBpc0xvYWQgKCkgewogICAgICAgIGlmKHRoaXMuZGF0YWxvYWRlZD49NCkgcmV0dXJuIGZhbHNlOwogICAgICAgIGVsc2UgaWYodGhpcy5yZXF1ZXN0RmFpbGVkPj00KSByZXR1cm4gZmFsc2U7CiAgICAgICAgZWxzZSByZXR1cm4gdHJ1ZTsKICAgICAgfSwKICAgIH0sCgogICAgd2F0Y2g6IHsKICAgICAgZGlhbG9nICh2YWwpIHsKICAgICAgICB2YWwgfHwgdGhpcy5jbG9zZSgpCiAgICAgIH0sCiAgICAgIGRpYWxvZ0RlbGV0ZSAodmFsKSB7CiAgICAgICAgdmFsIHx8IHRoaXMuY2xvc2VEZWxldGUoKQogICAgICB9LAogICAgICBjZGlhbG9nICh2YWwpIHsKICAgICAgICB2YWwgfHwgdGhpcy5jY2xvc2UoKQogICAgICB9LAogICAgICBjZGlhbG9nRGVsZXRlICh2YWwpIHsKICAgICAgICB2YWwgfHwgdGhpcy5jY2xvc2VEZWxldGUoKQogICAgICB9LAogICAgICBkaWFsb2dDYW5jZWwgKHZhbCkgewogICAgICAgIHZhbCB8fCB0aGlzLmNhbmNlbENsb3NlKCkKICAgICAgfSwKICAgIH0sCgogICAgY3JlYXRlZCAoKSB7CiAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpCiAgICB9LAoKICAgIG1ldGhvZHM6IHsKICAgICAgZmlsdGVyS2V5UHJlc3MgKGUpIHsKICAgICAgICBpZighZS5rZXkubWF0Y2goL15bYS16QS1aXXxeLXxeIHxeX3xeXGQqJC8pKQogICAgICAgIHsKICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIH0KICAgICAgfSwKCiAgICAgIGluaXRpYWxpemUgKCkgewogICAgICAgIHRoaXMuZGF0YWxvYWRlZCA9IDAKICAgICAgICB0aGlzLnJlcXVlc3RGYWlsZWQgPSAwCiAgICAgICAgdGhpcy51cGRhdGVzc2lkKCkKICAgICAgICB0aGlzLnVwZGF0ZWNvbW1hbmQoKQogICAgICAgIHRoaXMudXBkYXRlZGV2aWNlKCkKICAgICAgICB0aGlzLnVwZGF0ZWdyb3VwKCkKICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSAzMjsgaSsrKSB7CiAgICAgICAgICAgIHRoaXMud2xhbmlkLnB1c2goaSk7CiAgICAgICAgfQogICAgICAgIGNvbnNvbGUubG9nKCJpbml0aWFsaXplZCBkYXRhbG9hZGVkOiAiICsgdGhpcy5kYXRhbG9hZGVkKQogICAgICAgIGNvbnNvbGUubG9nKCJpbml0aWFsaXplZCByZXF1ZXN0OiAiICsgdGhpcy5yZXF1ZXN0RmFpbGVkKQogICAgICAgIHRoaXMuZGF0YVRyYWNrZXIgPSB0aGlzLmVkaXRlZEl0ZW07CiAgICAgIH0sCgogICAgICB1cGRhdGVzc2lkICgpIHsKICAgICAgICBodHRwCiAgICAgICAgICAuZ2V0KCIvZ2V0c3NpZCIsIHt0aW1lb3V0OiA1MDAwfSkKICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgdGhpcy5hbGxfc3NpZCA9IHJlc3BvbnNlLmRhdGE7IC8vIEpTT04gYXJlIHBhcnNlZCBhdXRvbWF0aWNhbGx5LgogICAgICAgICAgICBjb25zb2xlLmxvZygiZ3JvdXAyOiBsb2FkZWQiICk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICB0aGlzLmRhdGFsb2FkZWQrKzsKICAgICAgICAgICAgaWYodGhpcy5kYXRhbG9hZGVkPj00KSB0aGlzLnNzaWRsaXN0KCk7CiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKGUgPT4gewogICAgICAgICAgICB0aGlzLnJlcXVlc3RGYWlsZWQrKzsKICAgICAgICAgIH0pOwogICAgICB9LAogICAgICB1cGRhdGVkZXZpY2UgKCkgewogICAgICAgIGh0dHAKICAgICAgICAgIC5nZXQoIi9nZXRkZXZpY2UiLCB7dGltZW91dDogNTAwMH0pCiAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgIHRoaXMuYWxsX2RldmljZSA9IHJlc3BvbnNlLmRhdGE7IC8vIEpTT04gYXJlIHBhcnNlZCBhdXRvbWF0aWNhbGx5LgogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgdGhpcy5kYXRhbG9hZGVkKys7CiAgICAgICAgICAgIGlmKHRoaXMuZGF0YWxvYWRlZD49NCkgdGhpcy5zc2lkbGlzdCgpCiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKGUgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgdGhpcy5yZXF1ZXN0RmFpbGVkKys7CiAgICAgICAgICB9KTsKICAgICAgfSwKCiAgICAgIHVwZGF0ZWNvbW1hbmQgKCkgewogICAgICAgIGh0dHAKICAgICAgICAgIC5nZXQoIi9nZXRjb21tYW5kIiwge3RpbWVvdXQ6IDUwMDB9KQogICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICB0aGlzLmFsbF9jb21tYW5kID0gcmVzcG9uc2UuZGF0YTsgLy8gSlNPTiBhcmUgcGFyc2VkIGF1dG9tYXRpY2FsbHkuCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICB0aGlzLmRhdGFsb2FkZWQrKzsKICAgICAgICAgICAgaWYodGhpcy5kYXRhbG9hZGVkPj00KSB0aGlzLnNzaWRsaXN0KCkKICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goZSA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICB0aGlzLnJlcXVlc3RGYWlsZWQrKzsKICAgICAgICAgIH0pOwogICAgICB9LAoKICAgICAgdXBkYXRlZ3JvdXAgKCkgewogICAgICAgIGh0dHAKICAgICAgICAgIC5nZXQoIi9nZXRncm91cCIsIHt0aW1lb3V0OiA1MDAwfSkKICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgdmFyIGksIHggPSBuZXcgQXJyYXkoKTsKICAgICAgICAgICAgZm9yIChpIGluIHJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgICB4W2ldID0gcmVzcG9uc2UuZGF0YVtpXS5wYXJlbnQrJy8nK3Jlc3BvbnNlLmRhdGFbaV0uZ3JvdXBfbmFtZTsKICAgICAgICAgICAgfTsKICAgICAgICAgICAgdGhpcy5ncm91cF9saXN0ID0geDsKICAgICAgICAgICAgdGhpcy5lZGl0ZWRJdGVtLnBhcmVudCA9IHhbMF07CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICB0aGlzLmRhdGFsb2FkZWQrKzsKICAgICAgICAgICAgaWYodGhpcy5kYXRhbG9hZGVkPj00KSB0aGlzLnNzaWRsaXN0KCkKICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goZSA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICB0aGlzLnJlcXVlc3RGYWlsZWQrKzsKICAgICAgICAgIH0pOwogICAgICB9LAoKICAgICAgd2xhbmlkX2FycmF5ICgpIHsKCiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCAzMjsgaSsrKSB7CiAgICAgICAgICAgIHRoaXMud2xhbmlkLnB1c2goaSk7CiAgICAgICAgfQogICAgICB9LAoKICAgICAgZWRpdEl0ZW0gKGl0ZW0pIHsKICAgICAgICB0aGlzLmRpYWxvZyA9IHRydWUKICAgICAgICB0aGlzLnBhcmVudF93YXRjaGVyID0gdGhpcy5lZGl0ZWRJdGVtLnBhcmVudAogICAgICAgIHRoaXMuZWRpdGVkSW5kZXggPSB0aGlzLnNzaWQuaW5kZXhPZihpdGVtKQogICAgICAgIHRoaXMuZWRpdGVkSXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIGl0ZW0pCiAgICAgICAgdGhpcy5lZGl0ZWRJdGVtLnBhcmVudCA9IHRoaXMucGFyZW50X3dhdGNoZXIKICAgICAgICB0aGlzLnNzaWRSdWxlcy5zcGxpY2UodGhpcy5zc2lkUnVsZXMubGFzdEluZGV4T2YoKSwgMSkKICAgICAgfSwKCiAgICAgIGNlZGl0SXRlbSAoaXRlbSkgewogICAgICAgIHRoaXMuY0luZGV4ID0gdGhpcy5jb21tYW5kLmluZGV4T2YoaXRlbSkKICAgICAgICB0aGlzLmNpdGVtcyA9IE9iamVjdC5hc3NpZ24oe30sIGl0ZW0pCiAgICAgICAgdGhpcy5tb2RlbEFycmF5ID0gdGhpcy5jaXRlbXMubW9kZWwuc3BsaXQoIiwiKQogICAgICAgIHRoaXMuY2RpYWxvZyA9IHRydWUKICAgICAgfSwKCiAgICAgIGNhbmNlbENvbmZpcm0gKCkgewogICAgICAgIHRoaXMuZWRpdGVkSXRlbS5hdXRoID0gZmFsc2U7CiAgICAgICAgdGhpcy5lZGl0ZWRJdGVtLmxpbWl0bGVzcyA9IGZhbHNlOwogICAgICAgIHRoaXMuZWRpdGVkSXRlbS5zc2lkID0gJyc7CiAgICAgICAgdGhpcy5jaXRlbXMuZGVzY3JpcHRpb24gPSAnJwogICAgICAgIHRoaXMuY2l0ZW1zLmNvbW1hbmQgPSAnJwogICAgICAgIGlmICh0aGlzLmRpYWxvZykgdGhpcy5jbG9zZSgpCiAgICAgICAgZWxzZSB0aGlzLmNjbG9zZSgpCiAgICAgICAgdGhpcy5jYW5jZWxDbG9zZSgpCiAgICAgIH0sCgogICAgICBkZWxldGVJdGVtIChpdGVtKSB7CiAgICAgICAgdGhpcy5lZGl0ZWRJbmRleCA9IHRoaXMuc3NpZC5pbmRleE9mKGl0ZW0pCiAgICAgICAgdGhpcy5hbGxzc2lkSW5kZXggPSB0aGlzLmFsbF9zc2lkLmluZGV4T2YoaXRlbSkKICAgICAgICB0aGlzLnBhcmVudF93YXRjaGVyID0gdGhpcy5lZGl0ZWRJdGVtLnBhcmVudAogICAgICAgIHRoaXMuZWRpdGVkSXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIGl0ZW0pCiAgICAgICAgdGhpcy5lZGl0ZWRJdGVtLnBhcmVudCA9IHRoaXMucGFyZW50X3dhdGNoZXIKICAgICAgICB0aGlzLmRpYWxvZ0RlbGV0ZSA9IHRydWUKICAgICAgfSwKCiAgICAgIGRlbGV0ZUl0ZW1Db25maXJtICgpIHsKICAgICAgICB0aGlzLnNzaWQuc3BsaWNlKHRoaXMuZWRpdGVkSW5kZXgsIDEpCiAgICAgICAgdGhpcy5hbGxfc3NpZC5zcGxpY2UodGhpcy5hbGxzc2lkSW5kZXgsIDEpCiAgICAgICAgdGhpcy5jbG9zZURlbGV0ZSgpCiAgICAgICAgdmFyIGk7CiAgICAgICAgaHR0cAogICAgICAgICAgICAuZGVsZXRlKCIvZGVsZXRlc3NpZC8iICsgdGhpcy5lZGl0ZWRJdGVtLmlkKQogICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goZSA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICB9KTsKICAgICAgICBmb3IgKGkgaW4gdGhpcy5kZXZpY2UpIHsKICAgICAgICAgIGNvbmZpZwogICAgICAgICAgICAgIC5nZXQoIi9EZWxldGVPYmplY3QvIit0aGlzLmRldmljZVtpXS5zZXJpYWxfbnVtYmVyKyIsIERldmljZS5XaUZpLlNTSUQuIit0aGlzLmVkaXRlZEl0ZW0ud2xhbl9pZCsiLiIpCiAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgLmNhdGNoKGUgPT4gewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgIH0sCgogICAgICBjZGVsZXRlSXRlbSAoaXRlbSkgewogICAgICAgIHRoaXMuY0luZGV4ID0gdGhpcy5jb21tYW5kLmluZGV4T2YoaXRlbSkKICAgICAgICB0aGlzLmNpdGVtcyA9IE9iamVjdC5hc3NpZ24oe30sIGl0ZW0pCiAgICAgICAgdGhpcy5jZGlhbG9nRGVsZXRlID0gdHJ1ZQogICAgICB9LAoKICAgICAgY2RlbGV0ZUl0ZW1Db25maXJtICgpIHsKICAgICAgICB0aGlzLmNvbW1hbmQuc3BsaWNlKHRoaXMuY0luZGV4LCAxKQogICAgICAgIHRoaXMuY2Nsb3NlRGVsZXRlKCkKICAgICAgICBodHRwCiAgICAgICAgICAgIC5kZWxldGUoIi9kZWxldGVjb21tYW5kLyIgKyB0aGlzLmNpdGVtcy5pZCkKICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKGUgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgfSk7CiAgICAgIH0sCgogICAgICBjYW5jZWxDbG9zZSAoKSB7CiAgICAgICAgdGhpcy5kaWFsb2dDYW5jZWwgPSBmYWxzZTsKICAgICAgfSwKCiAgICAgIGNsb3NlICgpIHsKICAgICAgICBpZigoIXRoaXMuZWRpdGVkSXRlbS5zc2lkICYmICF0aGlzLmVkaXRlZEl0ZW0ubGltaXRsZXNzICYmICF0aGlzLmVkaXRlZEl0ZW0uYXV0aCkgfHwgdGhpcy5pc1NhdmUpewogICAgICAgICAgaWYgKHRoaXMuZGlhbG9nKSB0aGlzLiRyZWZzLmZvcm0ucmVzZXRWYWxpZGF0aW9uKCk7CiAgICAgICAgICB0aGlzLnBhcmVudF93YXRjaGVyID0gdGhpcy5lZGl0ZWRJdGVtLnBhcmVudDsKICAgICAgICAgIHRoaXMudmFsaWQgPSBmYWxzZTsKICAgICAgICAgIHRoaXMuZGlhbG9nID0gZmFsc2U7CiAgICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICAgIHRoaXMuZWRpdGVkSXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZGVmYXVsdEl0ZW0pCiAgICAgICAgICAgIHRoaXMuZWRpdGVkSXRlbS5wYXJlbnQgPSB0aGlzLnBhcmVudF93YXRjaGVyCiAgICAgICAgICAgIHRoaXMuZWRpdGVkSW5kZXggPSAtMQogICAgICAgICAgICB0aGlzLmlzU2F2ZSA9IGZhbHNlCiAgICAgICAgICB9KQogICAgICAgIH1lbHNlIHsKICAgICAgICAgIHRoaXMuZGlhbG9nQ2FuY2VsID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0sCgogICAgICBjbG9zZURlbGV0ZSAoKSB7CiAgICAgICAgdGhpcy5kaWFsb2dEZWxldGUgPSBmYWxzZQogICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgIHRoaXMuZWRpdGVkSXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZGVmYXVsdEl0ZW0pCiAgICAgICAgICB0aGlzLmVkaXRlZEluZGV4ID0gLTEKICAgICAgICB9KQogICAgICB9LAoKICAgICAgY2Nsb3NlRGVsZXRlICgpIHsKICAgICAgICB0aGlzLmNkaWFsb2dEZWxldGUgPSBmYWxzZQogICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgIHRoaXMuY2l0ZW1zID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5kZWZhdWx0SXRlbSkKICAgICAgICAgIHRoaXMuY0luZGV4ID0gLTEKICAgICAgICB9KQogICAgICB9LAoKICAgICAgc3NpZGxpc3QgKCkgewogICAgICAgICAgdmFyIGksIHggPSBuZXcgQXJyYXkoKSwgeSA9IG5ldyBBcnJheSgpLCB6ID0gbmV3IEFycmF5KCk7CiAgICAgICAgICBmb3IgKGkgaW4gdGhpcy5hbGxfc3NpZCkgewogICAgICAgICAgICBpZih0aGlzLmVkaXRlZEl0ZW0ucGFyZW50LnN0YXJ0c1dpdGgodGhpcy5hbGxfc3NpZFtpXS5wYXJlbnQpKXsKICAgICAgICAgICAgICB4W2ldID0gdGhpcy5hbGxfc3NpZFtpXTsKICAgICAgICAgICAgICB0aGlzLnNzaWRMaXN0LnB1c2godGhpcy5hbGxfc3NpZFtpXS5zc2lkKQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKHRoaXMuZWRpdGVkSXRlbS5wYXJlbnQuc3RhcnRzV2l0aCh0aGlzLmFsbF9zc2lkW2ldLnBhcmVudCl8fHRoaXMuZWRpdGVkSXRlbS5wYXJlbnQuaW5jbHVkZXModGhpcy5hbGxfc3NpZFtpXS5wYXJlbnQpKXsKICAgICAgICAgICAgICB0aGlzLndsYW5pZC5zcGxpY2UodGhpcy53bGFuaWQuaW5kZXhPZih0aGlzLmFsbF9zc2lkW2ldLndsYW5faWQpLCAxKQogICAgICAgICAgICB9CiAgICAgICAgICB9OwogICAgICAgICAgZm9yIChpIGluIHRoaXMuYWxsX2RldmljZSkgewogICAgICAgICAgICBpZih0aGlzLmFsbF9kZXZpY2VbaV0ucGFyZW50LmluY2x1ZGVzKHRoaXMuZWRpdGVkSXRlbS5wYXJlbnQpKSB5W2ldID0gdGhpcy5hbGxfZGV2aWNlW2ldOwogICAgICAgICAgfTsKICAgICAgICAgIGZvciAoaSBpbiB0aGlzLmFsbF9jb21tYW5kKSB7CiAgICAgICAgICAgIGlmKHRoaXMuZWRpdGVkSXRlbS5wYXJlbnQuc3RhcnRzV2l0aCh0aGlzLmFsbF9jb21tYW5kW2ldLnBhcmVudCkpIHpbaV0gPSB0aGlzLmFsbF9jb21tYW5kW2ldOwogICAgICAgICAgfTsKICAgICAgICAgIHRoaXMuc3NpZCA9IHg7CiAgICAgICAgICB0aGlzLmRldmljZSA9IHk7CiAgICAgICAgICB0aGlzLmNvbW1hbmQgPSB6OwogICAgICB9LAoKICAgICAgYWRkcnVsZXMgKCkgewogICAgICAgIHRoaXMuc3NpZFJ1bGVzLnB1c2godiA9PiB0aGlzLnNzaWRMaXN0LmluZGV4T2YodikgPCAwfHwgJ1NTSUQgYWxyZWFkeSBleGlzdCcpOwogICAgICAgIHRoaXMuZWRpdGVkSXRlbS53bGFuX2lkPXRoaXMud2xhbmlkWzBdOwogICAgICB9LAoKICAgICAgY2Nsb3NlICgpIHsKICAgICAgICAgIGlmKCghdGhpcy5jaXRlbXMuZGVzY3JpcHRpb24gJiYgIXRoaXMuY2l0ZW1zLmNvbW1hbmQpIHx8IHRoaXMuaXNTYXZlKXsKICAgICAgICAgIHRoaXMuJHJlZnMuY2Zvcm0ucmVzZXRWYWxpZGF0aW9uKCkKICAgICAgICAgIHRoaXMuY2RpYWxvZyA9IGZhbHNlCiAgICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICAgIHRoaXMuY2l0ZW1zID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5kZWZhdWx0SXRlbSkKICAgICAgICAgICAgdGhpcy5jSW5kZXggPSAtMQogICAgICAgICAgICB0aGlzLmlzU2F2ZSA9IGZhbHNlCiAgICAgICAgICB9KQogICAgICAgIH1lbHNlIHsKICAgICAgICAgIHRoaXMuZGlhbG9nQ2FuY2VsID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGNzYXZlICgpIHsKICAgICAgICBpZiAodGhpcy5jSW5kZXggPiAtMSkgewogICAgICAgICAgdGhpcy5jaXRlbXMucGFyZW50ID0gdGhpcy5lZGl0ZWRJdGVtLnBhcmVudAogICAgICAgICAgdHJ5ewogICAgICAgICAgdGhpcy5jaXRlbXMubW9kZWwgPSB0aGlzLm1vZGVsQXJyYXkudG9TdHJpbmcoKQogICAgICAgICAgfWNhdGNoKGVycil7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJ0cnkgYWdhaW4iKQogICAgICAgICAgfQogICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmNvbW1hbmRbdGhpcy5jSW5kZXhdLCB0aGlzLmNpdGVtcykKICAgICAgICAgIHZhciBpbnB1dF9jb21tYW5kPSB0aGlzLmNpdGVtcy5jb21tYW5kLnNwbGl0KC9cbi9nKTsKICAgICAgICAgIHZhciBpLCB4ID0gbmV3IEFycmF5KCksIGJvZHkgPSAneyc7CgogICAgICAgICAgZm9yIChpIGluIGlucHV0X2NvbW1hbmQpIHsKICAgICAgICAgICAgaWYoaW5wdXRfY29tbWFuZFtpXSE9JyEnKSBib2R5ICs9ICcsIENvbW1hbmQ6ICcgKyBpbnB1dF9jb21tYW5kW2ldOwogICAgICAgICAgfTsKCiAgICAgICAgICBib2R5ICs9ICcsfSc7CiAgICAgICAgICAKCiAgICAgICAgICAgIGh0dHAKICAgICAgICAgICAgICAucHV0KCIvdXBkYXRlY29tbWFuZC8iICsgdGhpcy5jaXRlbXMuaWQsIHRoaXMuY2l0ZW1zKQogICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgLmNhdGNoKGUgPT4gewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiaGVoZSIpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgZm9yIChpIGluIHRoaXMuZGV2aWNlKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJpZiBleGVjdXRpbmciKQogICAgICAgICAgICBpZih0aGlzLm1vZGVsQXJyYXkuaW5kZXhPZih0aGlzLmRldmljZVtpXS5tb2RlbCk+MCB8fCB0aGlzLm1vZGVsQXJyYXkuaW5kZXhPZigiQUxMIik+MCl7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coImV4ZWN1dGluZyIpCiAgICAgICAgICAgICAgY29uZmlnCiAgICAgICAgICAgICAgICAgIC5nZXQoIi9FeGVjdXRlR3JvdXBDb21tYW5kLyIrdGhpcy5kZXZpY2VbaV0uc2VyaWFsX251bWJlcisiLCAiK3RoaXMuY2l0ZW1zLmlkKQogICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5jaXRlbXMucGFyZW50ID0gdGhpcy5lZGl0ZWRJdGVtLnBhcmVudAogICAgICAgICAgdGhpcy5jaXRlbXMubW9kZWwgPSB0aGlzLm1vZGVsQXJyYXkudG9TdHJpbmcoKQogICAgICAgICAgdmFyIGlucHV0X2NvbW1hbmQ9IHRoaXMuY2l0ZW1zLmNvbW1hbmQuc3BsaXQoL1xuL2cpOwogICAgICAgICAgdmFyIGksIHggPSBuZXcgQXJyYXkoKSwgYm9keSA9ICd7JzsKCiAgICAgICAgICBmb3IgKGkgaW4gaW5wdXRfY29tbWFuZCkgewogICAgICAgICAgICBpZihpbnB1dF9jb21tYW5kW2ldIT0nIScpIGJvZHkgKz0gJywgQ29tbWFuZDogJyArIGlucHV0X2NvbW1hbmRbaV07CiAgICAgICAgICB9OwoKICAgICAgICAgIGJvZHkgKz0gJyx9JzsKICAgICAgICAgIAogICAgICAgICAgCiAgICAgICAgICBjb25zb2xlLmxvZygiY29tbWFuZDogIiArIGJvZHkpOwogICAgICAgICAgdGhpcy5jb21tYW5kLnB1c2godGhpcy5jaXRlbXMpCiAgICAgICAgICB0aGlzLmFsbF9jb21tYW5kLnB1c2godGhpcy5jaXRlbXMpCiAgICAgICAgICAgIGh0dHAKICAgICAgICAgICAgICAgIC5wb3N0KCIvYWRkY29tbWFuZCIsIHRoaXMuY2l0ZW1zKQogICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgICAgdGhpcy5jb21tYW5kW3RoaXMuY29tbWFuZC5sZW5ndGgtMV0uaWQgPSByZXNwb25zZS5kYXRhLmlkOyAgICAKICAgICAgICAgICAgICAgIHRoaXMuYWxsX2NvbW1hbmRbdGhpcy5hbGxfY29tbWFuZC5sZW5ndGgtMV0uaWQgPSByZXNwb25zZS5kYXRhLmlkOyAgIAogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgICAgICBmb3IgKGkgaW4gdGhpcy5kZXZpY2UpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coImlmIGV4ZWN1dGluZzoiICsgcmVzcG9uc2UuZGF0YS5pZCkKICAgICAgICAgICAgICAgICAgaWYodGhpcy5tb2RlbEFycmF5LmluZGV4T2YodGhpcy5kZXZpY2VbaV0ubW9kZWwpPjAgfHwgdGhpcy5tb2RlbEFycmF5LmluZGV4T2YoIkFMTCIpKXsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiZXhlY3V0aW5nIikKICAgICAgICAgICAgICAgICAgICBjb25maWcKICAgICAgICAgICAgICAgICAgICAgICAgLnBvc3QoIi9FeGVjdXRlR3JvdXBDb21tYW5kLyIrdGhpcy5kZXZpY2VbaV0uc2VyaWFsX251bWJlcisiLCAiK3Jlc3BvbnNlLmRhdGEuaWQpCiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4gewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgfQogICAgICAgIHRoaXMuaXNTYXZlID0gdHJ1ZQogICAgICAgIHRoaXMuY2Nsb3NlKCkKICAgICAgfSwKICAgICAgc2F2ZSAoKSB7CiAgICAgICAgaWYgKHRoaXMuZWRpdGVkSW5kZXggPiAtMSkgewogICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLnNzaWRbdGhpcy5lZGl0ZWRJbmRleF0sIHRoaXMuZWRpdGVkSXRlbSkKICAgICAgICAgIHZhciB2ID0gdGhpcy5lZGl0ZWRJdGVtLndsYW5faWQ7CiAgICAgICAgICB2YXIgZW50eXBlID0gJycsIHBhc3NrZXkgPSB0aGlzLmVkaXRlZEl0ZW0ucGFzc3BocmFzZTsKICAgICAgICAgIHZhciB2aWQgPSB0aGlzLmVkaXRlZEl0ZW0udmxhbl9pZDsKICAgICAgICAgIGlmKHRoaXMuZWRpdGVkSXRlbS5lbmNyeXB0aW9uX21vZGU9PSdPcGVuJyl7CiAgICAgICAgICAgIGVudHlwZSA9ICdOb25lJwogICAgICAgICAgICBwYXNza2V5ID0gJ251bGwnCiAgICAgICAgICB9CiAgICAgICAgICBlbHNlIGlmKHRoaXMuZWRpdGVkSXRlbS5lbmNyeXB0aW9uX21vZGU9PSdXUEEtUFNLJykgZW50eXBlID0gJ1dQQS1QZXJzb25hbCcKICAgICAgICAgIGVsc2UgZW50eXBlID0gJ1dQQTItUGVyc29uYWwnCiAgICAgICAgICBpZih0aGlzLmVkaXRlZEl0ZW0uZm9yd2FyZF9tb2RlPT0nTmF0Jyl7CiAgICAgICAgICAgIHZpZCA9ICdudWxsJwogICAgICAgICAgfQogICAgICAgICAgdmFyIGJvZHkgPSAiJ3ssRGV2aWNlLldpRmkuU1NJRC4iK3YrIi5TU0lEOiIrdGhpcy5lZGl0ZWRJdGVtLnNzaWQrIixEZXZpY2UuV2lGaS5TU0lELiIrdisiLkxvd2VyTGF5ZXJzOjEmMixEZXZpY2UuV2lGaS5TU0lELiIrdisiLlhfV1dXLVJVSUpJRS1DT00tQ05fSXNIaWRkZW46ZmFsc2UsRGV2aWNlLldpRmkuU1NJRC4iK3YrIi5YX1dXVy1SVUlKSUUtQ09NLUNOX0Zvd2FyZFR5cGU6Iit0aGlzLmVkaXRlZEl0ZW0uZm9yd2FyZF9tb2RlKyIsRGV2aWNlLldpRmkuU1NJRC4iK3YrIi5YX1dXVy1SVUlKSUUtQ09NLUNOX1ZMQU5JRDoiK3ZpZCsiLERldmljZS5XaUZpLkFjY2Vzc1BvaW50LiIrdisiLlNlY3VyaXR5Lk1vZGVFbmFibGVkOiIrZW50eXBlKyIsRGV2aWNlLldpRmkuQWNjZXNzUG9pbnQuIit2KyIuU2VjdXJpdHkuS2V5UGFzc3BocmFzZToiK3Bhc3NrZXkrIix9JyIKICAgICAgICAgIHZhciBhYm9keSA9ICIneyxXaUZpRG9nLCIrdGhpcy5lZGl0ZWRJdGVtLnBvcnRhbF9pcCsiLCIrdGhpcy5lZGl0ZWRJdGVtLnBvcnRhbF91cmwrIixqcywiK3RoaXMuZWRpdGVkSXRlbS5nYXRld2F5X2lkKyIsdHJ1ZSx0cnVlfSciCiAgICAgICAgICBjb25zb2xlLmxvZyhib2R5KTsKICAgICAgICAgIGNvbnNvbGUubG9nKGFib2R5KTsKICAgICAgICAgIHZhciBpOwogICAgICAgICAgaHR0cAogICAgICAgICAgICAucHV0KCIvdXBkYXRlc3NpZC8iICsgdGhpcy5lZGl0ZWRJdGVtLmlkLCB0aGlzLmVkaXRlZEl0ZW0pCiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKGUgPT4gewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIGZvciAoaSBpbiB0aGlzLmRldmljZSkgewogICAgICAgICAgICBjb25maWcKICAgICAgICAgICAgICAgIC5wb3N0KCIvQWRkU1NJRC8iK3RoaXMuZGV2aWNlW2ldLnNlcmlhbF9udW1iZXIrIiwgIit0aGlzLmVkaXRlZEl0ZW0uaWQpCiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgdiA9IHRoaXMuZWRpdGVkSXRlbS53bGFuX2lkOwogICAgICAgICAgdGhpcy53bGFuaWQuc3BsaWNlKHRoaXMud2xhbmlkLmluZGV4T2YodiksIDEpCiAgICAgICAgICB0aGlzLnNzaWQucHVzaCh0aGlzLmVkaXRlZEl0ZW0pOwogICAgICAgICAgdGhpcy5hbGxfc3NpZC5wdXNoKHRoaXMuZWRpdGVkSXRlbSk7CiAgICAgICAgICB2YXIgaTsKICAgICAgICAgICAgaHR0cAogICAgICAgICAgICAgICAgLnBvc3QoIi9hZGRzc2lkIiwgdGhpcy5lZGl0ZWRJdGVtKQogICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgICAgICB0aGlzLnNzaWRbdGhpcy5zc2lkLmxlbmd0aC0xXS5pZCA9IHJlc3BvbnNlLmRhdGEuaWQ7CiAgICAgICAgICAgICAgICAgIHRoaXMuYWxsX3NzaWRbdGhpcy5hbGxfc3NpZC5sZW5ndGgtMV0uaWQgPSByZXNwb25zZS5kYXRhLmlkOwogICAgICAgICAgICAgICAgICBmb3IgKGkgaW4gdGhpcy5kZXZpY2UpIHsKICAgICAgICAgICAgICAgICAgICBjb25maWcKICAgICAgICAgICAgICAgICAgICAgICAgLnBvc3QoIi9BZGRTU0lELyIrdGhpcy5kZXZpY2VbaV0uc2VyaWFsX251bWJlcisiLCAiK3Jlc3BvbnNlLmRhdGEuaWQpCiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4gewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgfQogICAgICAgIHRoaXMuaXNTYXZlID0gdHJ1ZQogICAgICAgIHRoaXMuY2xvc2UoKQogICAgICB9LAogICAgfSwKICB9Cg=="},{"version":3,"sources":["Configuration.vue"],"names":[],"mappings":";AA4kBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Configuration.vue","sourceRoot":"src/views/components","sourcesContent":["<template>\n<v-container>\n  <v-card>\n  <v-data-table\n    :headers=\"headers\"\n    :items=\"ssid\"\n    class=\"elevation-1\"\n    :loading=\"isLoad\"\n    loading-text=\"Loading... Please wait\"\n  >\n    <template v-slot:top>\n      <v-toolbar\n        flat\n      >\n        <v-row no-gutters class=\"mx-4\">\n        <v-col\n            cols=\"4\"\n            md=\"4\"\n        >\n        <v-autocomplete\n        :items=\"group_list\"\n        v-model=\"editedItem.parent\"\n        item-value=\"editedItem.parent[0]\"\n        hide-selected\n        hint=\"Select Group\"\n        persistent-hint\n        dense\n        @input=\"ssidlist\"\n        ></v-autocomplete>\n        </v-col>\n        <v-tooltip bottom>\n          <template v-slot:activator=\"{ on: tooltip }\">\n            <v-btn\n              color=\"primary\"\n              dark\n              icon\n              v-on=\"{ ...tooltip }\"\n              @click=\"initialize\"\n            >\n              <v-icon>mdi-cached</v-icon>\n            </v-btn>\n          </template>\n          <span>Refresh</span>\n        </v-tooltip>\n        </v-row>\n        <v-spacer></v-spacer>\n        <v-dialog\n          v-model=\"dialog\"\n          persistent\n          :retain-focus=\"false\"\n          max-width=\"1000px\"\n        >\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-btn\n              color=\"primary\"\n              dark\n              class=\"mb-2\"\n              v-bind=\"attrs\"\n              v-on=\"on\"\n              @click=\"addrules\"\n            >\n              New SSID\n            </v-btn>\n          </template>\n          <v-card>\n            <v-card-title>\n              <span class=\"headline\">{{ formTitle }}</span>\n            </v-card-title>\n          <v-form\n            ref=\"form\"\n            v-model=\"valid\"\n            lazy-validation\n          >\n            <v-card-text>\n                    <v-row no-gutters>\n                    <v-col\n                        cols=\"1\"\n                        md=\"1\"\n                    >\n                    <v-subheader>WLAN ID</v-subheader>\n                    </v-col>\n                    <v-col\n                        cols=\"4\"\n                        md=\"4\"\n                    >\n                        <v-select\n                        :items=\"wlanid\"\n                        :disabled=\"formTitle!='New SSID'\"\n                        v-model=\"editedItem.wlan_id\"\n                        :label=\"editedItem.wlan_id.toString()\"\n                        outlined\n                        dense\n                        ></v-select>\n                    </v-col>\n                    <v-spacer />\n                    <v-col\n                        cols=\"1\"\n                        md=\"1\"\n                    >\n                    <v-subheader>Forward Mode</v-subheader>\n                    </v-col>\n                    <v-col\n                        cols=\"4\"\n                        md=\"4\"\n                    >\n                        <v-select\n                        :items=\"['Bridge', 'Nat']\"\n                        v-model=\"editedItem.forward_mode\"\n                        outlined\n                        dense\n                        ></v-select>\n                    </v-col>\n                    </v-row>\n                    <v-row no-gutters>\n                    <v-col\n                        cols=\"1\"\n                        md=\"1\"\n                    >\n                    <v-subheader><div v-html=\"'SSID <strong>*</strong>'\"></div></v-subheader>\n                    </v-col>\n                    <v-col\n                        cols=\"4\"\n                        md=\"4\"\n                    >\n                        <v-text-field\n                        v-model=\"editedItem.ssid\"\n                        :rules=\"ssidRules\"\n                        @keydown=\"filterKeyPress($event)\"\n                        required\n                        outlined\n                        dense\n                        ></v-text-field>\n                    </v-col>\n                    <v-spacer />\n                    <v-col\n                        cols=\"1\"\n                        md=\"1\"\n                        v-if=\"editedItem.forward_mode=='Bridge'\"\n                    >\n                    <v-subheader><div v-html=\"'VLAN ID <strong>*</strong>'\"></div></v-subheader>\n                    </v-col>\n                    <v-col\n                        cols=\"4\"\n                        md=\"4\"\n                        v-if=\"editedItem.forward_mode=='Bridge'\"\n                    >\n                        <v-text-field\n                        v-model=\"editedItem.vlan_id\"\n                        :rules=\"vlanRules\"\n                        required\n                        outlined\n                        dense\n                        ></v-text-field>\n                    </v-col>\n                    </v-row>\n                    <v-row no-gutters>\n                    <v-col\n                        cols=\"1\"\n                        md=\"1\"\n                    >\n                    <v-subheader>Encryption Mode</v-subheader>\n                    </v-col>\n                    <v-col\n                        cols=\"4\"\n                        md=\"4\"\n                    >\n                        <v-select\n                        :items=\"['Open', 'WPA-PSK', 'WPA-PSK2']\"\n                        v-model=\"editedItem.encryption_mode\"\n                        outlined\n                        dense\n                        ></v-select>\n                    </v-col>\n                    </v-row>\n                    <v-row no-gutters v-if=\"editedItem.encryption_mode!='Open'\">\n                    <v-col\n                        cols=\"1\"\n                        md=\"1\"\n                    >\n                    <v-subheader><div v-html=\"'Password <strong>*</strong>'\"></div></v-subheader>\n                    </v-col>\n                    <v-col\n                        cols=\"4\"\n                        md=\"4\"\n                    >\n                        <v-text-field\n                        v-model=\"editedItem.passphrase\"\n                        :rules=\"[v => (v || '').length >= 8 || 'Password too short']\"\n                        required\n                        outlined\n                        dense\n                        ></v-text-field>\n                    </v-col>\n                    </v-row>\n                    <v-row no-gutters>\n                    <v-col\n                        cols=\"1\"\n                        md=\"1\"\n                    >\n                    <v-subheader>Limit by SSID</v-subheader>\n                    </v-col>\n                    <v-col\n                        cols=\"4\"\n                        md=\"4\"\n                    >\n                        <v-switch\n                        v-model=\"editedItem.limitless\"\n                        ></v-switch>\n                    </v-col>\n                    </v-row>\n                    <v-row no-gutters v-if=\"editedItem.limitless\">\n                    <v-col\n                        cols=\"1\"\n                        md=\"1\"\n                    >\n                    <v-subheader>Uplink</v-subheader>\n                    </v-col>\n                    <v-col\n                        cols=\"4\"\n                        md=\"4\"\n                    >\n                        <v-text-field\n                        v-model=\"editedItem.uplink\"\n                        required\n                        outlined\n                        dense\n                        ></v-text-field>\n                    </v-col>\n                    <v-spacer />\n                    <v-col\n                        cols=\"1\"\n                        md=\"1\"\n                    >\n                    <v-subheader>Downlink</v-subheader>\n                    </v-col>\n                    <v-col\n                        cols=\"4\"\n                        md=\"4\"\n                    >\n                        <v-text-field\n                        v-model=\"editedItem.downlink\"\n                        required\n                        outlined\n                        dense\n                        ></v-text-field>\n                    </v-col>\n                    </v-row>\n                    <v-row no-gutters>\n                    <v-col\n                        cols=\"1\"\n                        md=\"1\"\n                    >\n                    <v-subheader>Auth</v-subheader>\n                    </v-col>\n                    <v-col\n                        cols=\"4\"\n                        md=\"4\"\n                    >\n                        <v-switch\n                        v-model=\"editedItem.auth\"\n                        ></v-switch>\n                    </v-col>\n                    </v-row>\n                    <v-row no-gutters v-if=\"editedItem.auth\">\n                    <v-col\n                        cols=\"1\"\n                        md=\"1\"\n                    >\n                    <v-subheader><div v-html=\"'Portal URL <strong>*</strong>'\"></div></v-subheader>\n                    </v-col>\n                    <v-col\n                        cols=\"4\"\n                        md=\"4\"\n                    >\n                        <v-text-field\n                        v-model=\"editedItem.portal_url\"\n                        required\n                        outlined\n                        :rules=\"portalRules\"\n                        dense\n                        ></v-text-field>\n                    </v-col>\n                    </v-row>\n                    <v-row no-gutters v-if=\"editedItem.auth\">\n                    <v-col\n                        cols=\"1\"\n                        md=\"1\"\n                    >\n                    <v-subheader><div v-html=\"'Portal IP <strong>*</strong>'\"></div></v-subheader>\n                    </v-col>\n                    <v-col\n                        cols=\"4\"\n                        md=\"4\"\n                    >\n                        <v-text-field\n                        v-model=\"editedItem.portal_ip\"\n                        :rules=\"ipRules\"\n                        required\n                        outlined\n                        dense\n                        ></v-text-field>\n                    </v-col>\n                    </v-row>\n                    <v-row no-gutters v-if=\"editedItem.auth\">\n                    <v-col\n                        cols=\"1\"\n                        md=\"1\"\n                    >\n                    <v-subheader>Gateway ID</v-subheader>\n                    </v-col>\n                    <v-col\n                        cols=\"4\"\n                        md=\"4\"\n                    >\n                        <v-text-field\n                        @keydown=\"filterKeyPress($event)\"\n                        v-model=\"editedItem.gateway_id\"\n                        required\n                        outlined\n                        dense\n                        ></v-text-field>\n                    </v-col>\n                    </v-row>\n                    <v-row no-gutters v-if=\"editedItem.auth\">\n                    <v-col\n                        cols=\"1\"\n                        md=\"1\"\n                    >\n                    <v-subheader>Seamless Online</v-subheader>\n                    </v-col>\n                    <v-col\n                        cols=\"4\"\n                        md=\"4\"\n                    >\n                        <v-checkbox\n                        v-model=\"editedItem.seamless\"\n                        ></v-checkbox>\n                    </v-col>\n                    </v-row>\n            <v-subheader><div v-html=\"'<strong>* </strong> indicates required field'\"></div></v-subheader>\n            </v-card-text>\n          </v-form>\n\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn\n                color=\"blue darken-1\"\n                text\n                @click=\"close\"\n              >\n                Cancel\n              </v-btn>\n              <v-btn\n                color=\"blue darken-1\"\n                text\n                :disabled=\"!valid || !!!editedItem.ssid || (!!!editedItem.passphrase&&editedItem.encryption_mode!='Open')\"\n                @click=\"save\"\n              >\n                Save\n              </v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n        <v-dialog v-model=\"dialogCancel\" max-width=\"470px\">\n          <v-card>\n            <v-card-title class=\"headline\">Data has not been saved. Are you sure you want to proceed?</v-card-title>\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn color=\"blue darken-1\" text @click=\"cancelClose\">Cancel</v-btn>\n              <v-btn color=\"blue darken-1\" text @click=\"cancelConfirm\">OK</v-btn>\n              <v-spacer></v-spacer>\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n        <v-dialog v-model=\"dialogDelete\" max-width=\"500px\">\n          <v-card>\n            <v-card-title class=\"headline\">Are you sure you want to delete this item?</v-card-title>\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn color=\"blue darken-1\" text @click=\"closeDelete\">Cancel</v-btn>\n              <v-btn color=\"blue darken-1\" text @click=\"deleteItemConfirm\">OK</v-btn>\n              <v-spacer></v-spacer>\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n      </v-toolbar>\n    </template>\n    <template v-slot:[`item.actions`]=\"{ item }\">\n      <v-icon\n        class=\"mr-2\"\n        @click=\"editItem(item)\"\n      >\n        mdi-pencil\n      </v-icon>\n      <v-icon\n        @click=\"deleteItem(item)\"\n      >\n        mdi-delete\n      </v-icon>\n    </template>\n    <template v-slot:no-data>\n      No data to display\n    </template>\n  </v-data-table>\n  </v-card>\n  \n  <v-card class=\"mt-4\">\n  <v-expansion-panels\n    multiple\n  >\n  <v-expansion-panel>\n  <v-expansion-panel-header>Advance Settings(Optional)</v-expansion-panel-header>\n  <v-expansion-panel-content>\n  <v-data-table\n    :headers=\"cliheaders\"\n    :items=\"command\"\n    class=\"elevation-1\"\n  >\n    <template v-slot:top>\n      <v-toolbar\n        flat\n      >\n        <v-toolbar-title>CLI Commands</v-toolbar-title>\n        <v-spacer></v-spacer>\n        <v-dialog\n          max-width=\"800px\"\n          persistent\n          :retain-focus=\"false\"\n          v-model=\"cdialog\"\n        >\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-btn\n              color=\"primary\"\n              dark\n              class=\"mb-2\"\n              v-bind=\"attrs\"\n              v-on=\"on\"\n              @click=\"citems.model='ALL'\"\n            >\n              New Command\n            </v-btn>\n          </template>\n          <v-card>\n            <v-card-title>\n              <span class=\"headline\">Command</span>\n            </v-card-title>\n          <v-form\n            ref=\"cform\"\n            v-model=\"cvalid\"\n            lazy-validation\n          >\n            <v-card-text>\n                    <v-row no-gutters>\n                    <v-col\n                        cols=\"4\"\n                        md=\"4\"\n                    >\n                    <v-subheader><div v-html=\"'Model <strong>*</strong>'\"></div></v-subheader>\n                    </v-col>\n                    <v-col\n                        cols=\"8\"\n                        md=\"8\"\n                    >\n                        <v-select\n                        v-model=\"modelArray\"\n                        :items=\"['ALL','AP520(W2)', 'AP520-I(G2)', 'AP630(IDA2)']\"\n                        :rules=\"[v => !!v || 'Group is required']\"\n                        small-chips\n                        multiple\n                        outlined\n                        dense\n                        ></v-select>\n                    </v-col>\n                    </v-row>\n                    <v-row no-gutters>\n                    <v-col\n                        cols=\"4\"\n                        md=\"4\"\n                    >\n                    <v-subheader><div v-html=\"'Description <strong>*</strong>'\"></div></v-subheader>\n                    </v-col>\n                    <v-col\n                        cols=\"8\"\n                        md=\"8\"\n                    >\n                        <v-text-field\n                        v-model=\"citems.description\"\n                        required\n                        outlined\n                        :rules=\"[v => !!v || 'Description is required']\"\n                        dense\n                        ></v-text-field>\n                    </v-col>\n                    </v-row>\n                    <v-row no-gutters>\n                    <v-col\n                        cols=\"4\"\n                        md=\"4\"\n                    >\n                    <v-subheader><div v-html=\"'Command <strong>*</strong>'\"></div></v-subheader>\n                    </v-col>\n                    </v-row>\n                    <v-row no-gutters class=\"mx-4\">\n                    <v-col\n                        cols=\"12\"\n                        md=\"12\"\n                    >\n                        <v-textarea\n                        v-model=\"citems.command\"\n                        rows=\"9\"\n                        outlined\n                        :rules=\"[v => !!v || 'Command cannot be empty']\"\n                        densed\n                        ></v-textarea>\n                    </v-col>\n                    </v-row>\n            <v-subheader><div v-html=\"'<strong>* </strong> indicates required field'\"></div></v-subheader>\n            </v-card-text>\n          </v-form>\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn\n                color=\"blue darken-1\"\n                text\n                @click=\"cclose\"\n              >\n                Cancel\n              </v-btn>\n              <v-btn\n                color=\"blue darken-1\"\n                text\n                :disabled=\"!cvalid || !!!citems.model || !!!citems.description || !!!citems.command\"\n                @click=\"csave\"\n              >\n                Save\n              </v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n        <v-dialog v-model=\"dialogCancel\" max-width=\"470px\">\n          <v-card>\n            <v-card-title class=\"headline\">Data has not been saved. Are you sure you want to proceed?</v-card-title>\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn color=\"blue darken-1\" text @click=\"cancelClose\">Cancel</v-btn>\n              <v-btn color=\"blue darken-1\" text @click=\"cancelConfirm\">OK</v-btn>\n              <v-spacer></v-spacer>\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n        <v-dialog v-model=\"cdialogDelete\" max-width=\"500px\">\n          <v-card>\n            <v-card-title class=\"headline\">Are you sure you want to delete this item?</v-card-title>\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn color=\"blue darken-1\" text @click=\"ccloseDelete\">Cancel</v-btn>\n              <v-btn color=\"blue darken-1\" text @click=\"cdeleteItemConfirm\">OK</v-btn>\n              <v-spacer></v-spacer>\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n      </v-toolbar>\n    </template>\n    <template v-slot:[`item.actions`]=\"{ item }\">\n      <v-icon\n        class=\"mr-2\"\n        @click=\"ceditItem(item)\"\n      >\n        mdi-pencil\n      </v-icon>\n      <v-icon\n        @click=\"cdeleteItem(item)\"\n      >\n        mdi-delete\n      </v-icon>\n    </template>\n    <template v-slot:no-data>\n      No data to display\n    </template>\n  </v-data-table>\n            </v-expansion-panel-content>\n        </v-expansion-panel>\n        </v-expansion-panels>\n  </v-card>\n</v-container>\n</template>\n\n<script>\nimport http from \"@/http-common\";\nimport config from \"@/http-config\";\n\n  export default {\n    data: () => ({\n      modelArray: [],\n      dataloaded: 0,\n      requestFailed: 0,\n      isCancel: false,\n      isSave: false,\n      valid: false,\n      cvalid: false,\n      cdialog: false,\n      dialog: false,\n      dialogDelete: false,\n      cdialogDelete: false,\n      dialogCancel: false,\n      dataTracker: [],\n      parent_watcher: '',\n      headers: [\n        {\n          text: 'SSID',\n          align: 'start',\n          sortable: false,\n          value: 'ssid',\n        },\n        { text: 'WLAN ID', value: 'wlan_id' },\n        { text: 'Encryption Mode', value: 'encryption_mode' },\n        { text: 'Portal URL', value: 'portal_url' },\n        { text: 'Gateway ID', value: 'gateway_id' },\n        { text: 'Action', value: 'actions', sortable: false },\n      ],\n      cliheaders: [\n        { text: 'Model', value: 'model' },\n        { text: 'Description', value: 'description' },\n        { text: 'Action', value: 'actions', sortable: false },\n      ],\n      list: [],\n      timer: '',\n      group_list: [],\n      ssidList: [],\n      group_parent: '',\n      ssid: [],\n      all_ssid: [],\n      device: [],\n      all_device: [],\n      device: [],\n      all_device: [],\n      wlanid: [],\n      all_command: [],\n      command: [],\n      editedIndex: -1,\n      cIndex: -1,\n      allssidIndex: -1,\n      editedItem: {\n        id: 0,\n        wlan_id: '',\n        ssid: '',\n        forward_mode: 'Bridge',\n        encryption_mode: 'Open',\n        passphrase: '',\n        portal_url: '',\n        vlan_id: 1,\n        uplink: 0,\n        downlink: 0,\n        limitless: false,\n        auth: false,\n        portal_ip: '',\n        parent: '',\n        gateway_id: '',\n        seamless: false,\n      },\n      defaultItem: {\n        model: 'ALL',\n        wlan_id: '',\n        ssid: '',\n        forward_mode: 'Bridge',\n        encryption_mode: 'Open',\n        portal_url: '',\n        vlan_id: 1,\n        uplink: 14400,\n        downlink: 14400,\n        limitless: false,\n        auth: false,\n        portal_ip: '',\n        gateway_id: '',\n        seamless: false,\n      },\n      citems: {\n        model: '',\n        description: '',\n        command: '',\n        parent: '',\n      },\n      vlanRules: [\n        v => !!v || 'VLAN is required',\n        v =>!/\\D/.test(v) || 'Invalid Vlan',\n      ],\n      ssidRules: [\n        v => !!v || 'SSID is required',\n      ],\n      portalRules: [\n        v => !!v || 'URL is required',\n        v => /.+\\..+/.test(v) || 'URL must must be valid',\n      ],\n      ipRules: [\n        v => !!v || 'IP is required',\n        v => /^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(v) || 'IP must must be valid',\n      ],\n    }),\n\n    computed: {\n      formTitle () {\n        return this.editedIndex === -1 ? 'New SSID' : 'Edit SSID'\n      },\n      isLoad () {\n        if(this.dataloaded>=4) return false;\n        else if(this.requestFailed>=4) return false;\n        else return true;\n      },\n    },\n\n    watch: {\n      dialog (val) {\n        val || this.close()\n      },\n      dialogDelete (val) {\n        val || this.closeDelete()\n      },\n      cdialog (val) {\n        val || this.cclose()\n      },\n      cdialogDelete (val) {\n        val || this.ccloseDelete()\n      },\n      dialogCancel (val) {\n        val || this.cancelClose()\n      },\n    },\n\n    created () {\n      this.initialize()\n    },\n\n    methods: {\n      filterKeyPress (e) {\n        if(!e.key.match(/^[a-zA-Z]|^-|^ |^_|^\\d*$/))\n        {\n            e.preventDefault();\n        }\n      },\n\n      initialize () {\n        this.dataloaded = 0\n        this.requestFailed = 0\n        this.updatessid()\n        this.updatecommand()\n        this.updatedevice()\n        this.updategroup()\n        for (var i = 1; i <= 32; i++) {\n            this.wlanid.push(i);\n        }\n        console.log(\"initialized dataloaded: \" + this.dataloaded)\n        console.log(\"initialized request: \" + this.requestFailed)\n        this.dataTracker = this.editedItem;\n      },\n\n      updatessid () {\n        http\n          .get(\"/getssid\", {timeout: 5000})\n          .then(response => {\n            this.all_ssid = response.data; // JSON are parsed automatically.\n            console.log(\"group2: loaded\" );\n            console.log(response.data);\n            this.dataloaded++;\n            if(this.dataloaded>=4) this.ssidlist();\n          })\n          .catch(e => {\n            this.requestFailed++;\n          });\n      },\n      updatedevice () {\n        http\n          .get(\"/getdevice\", {timeout: 5000})\n          .then(response => {\n            this.all_device = response.data; // JSON are parsed automatically.\n            console.log(response.data);\n            this.dataloaded++;\n            if(this.dataloaded>=4) this.ssidlist()\n          })\n          .catch(e => {\n            console.log(e);\n            this.requestFailed++;\n          });\n      },\n\n      updatecommand () {\n        http\n          .get(\"/getcommand\", {timeout: 5000})\n          .then(response => {\n            this.all_command = response.data; // JSON are parsed automatically.\n            console.log(response.data);\n            this.dataloaded++;\n            if(this.dataloaded>=4) this.ssidlist()\n          })\n          .catch(e => {\n            console.log(e);\n            this.requestFailed++;\n          });\n      },\n\n      updategroup () {\n        http\n          .get(\"/getgroup\", {timeout: 5000})\n          .then(response => {\n            var i, x = new Array();\n            for (i in response.data) {\n              x[i] = response.data[i].parent+'/'+response.data[i].group_name;\n            };\n            this.group_list = x;\n            this.editedItem.parent = x[0];\n            console.log(response.data);\n            this.dataloaded++;\n            if(this.dataloaded>=4) this.ssidlist()\n          })\n          .catch(e => {\n            console.log(e);\n            this.requestFailed++;\n          });\n      },\n\n      wlanid_array () {\n\n        for (var i = 1; i < 32; i++) {\n            this.wlanid.push(i);\n        }\n      },\n\n      editItem (item) {\n        this.dialog = true\n        this.parent_watcher = this.editedItem.parent\n        this.editedIndex = this.ssid.indexOf(item)\n        this.editedItem = Object.assign({}, item)\n        this.editedItem.parent = this.parent_watcher\n        this.ssidRules.splice(this.ssidRules.lastIndexOf(), 1)\n      },\n\n      ceditItem (item) {\n        this.cIndex = this.command.indexOf(item)\n        this.citems = Object.assign({}, item)\n        this.modelArray = this.citems.model.split(\",\")\n        this.cdialog = true\n      },\n\n      cancelConfirm () {\n        this.editedItem.auth = false;\n        this.editedItem.limitless = false;\n        this.editedItem.ssid = '';\n        this.citems.description = ''\n        this.citems.command = ''\n        if (this.dialog) this.close()\n        else this.cclose()\n        this.cancelClose()\n      },\n\n      deleteItem (item) {\n        this.editedIndex = this.ssid.indexOf(item)\n        this.allssidIndex = this.all_ssid.indexOf(item)\n        this.parent_watcher = this.editedItem.parent\n        this.editedItem = Object.assign({}, item)\n        this.editedItem.parent = this.parent_watcher\n        this.dialogDelete = true\n      },\n\n      deleteItemConfirm () {\n        this.ssid.splice(this.editedIndex, 1)\n        this.all_ssid.splice(this.allssidIndex, 1)\n        this.closeDelete()\n        var i;\n        http\n            .delete(\"/deletessid/\" + this.editedItem.id)\n            .then(response => {\n            console.log(response.data);\n            })\n            .catch(e => {\n            console.log(e);\n            });\n        for (i in this.device) {\n          config\n              .get(\"/DeleteObject/\"+this.device[i].serial_number+\", Device.WiFi.SSID.\"+this.editedItem.wlan_id+\".\")\n              .then(response => {\n              console.log(response.data);\n              })\n              .catch(e => {\n              console.log(e);\n              });\n        }\n\n      },\n\n      cdeleteItem (item) {\n        this.cIndex = this.command.indexOf(item)\n        this.citems = Object.assign({}, item)\n        this.cdialogDelete = true\n      },\n\n      cdeleteItemConfirm () {\n        this.command.splice(this.cIndex, 1)\n        this.ccloseDelete()\n        http\n            .delete(\"/deletecommand/\" + this.citems.id)\n            .then(response => {\n            console.log(response.data);\n            })\n            .catch(e => {\n            console.log(e);\n            });\n      },\n\n      cancelClose () {\n        this.dialogCancel = false;\n      },\n\n      close () {\n        if((!this.editedItem.ssid && !this.editedItem.limitless && !this.editedItem.auth) || this.isSave){\n          if (this.dialog) this.$refs.form.resetValidation();\n          this.parent_watcher = this.editedItem.parent;\n          this.valid = false;\n          this.dialog = false;\n          this.$nextTick(() => {\n            this.editedItem = Object.assign({}, this.defaultItem)\n            this.editedItem.parent = this.parent_watcher\n            this.editedIndex = -1\n            this.isSave = false\n          })\n        }else {\n          this.dialogCancel = true;\n        }\n      },\n\n      closeDelete () {\n        this.dialogDelete = false\n        this.$nextTick(() => {\n          this.editedItem = Object.assign({}, this.defaultItem)\n          this.editedIndex = -1\n        })\n      },\n\n      ccloseDelete () {\n        this.cdialogDelete = false\n        this.$nextTick(() => {\n          this.citems = Object.assign({}, this.defaultItem)\n          this.cIndex = -1\n        })\n      },\n\n      ssidlist () {\n          var i, x = new Array(), y = new Array(), z = new Array();\n          for (i in this.all_ssid) {\n            if(this.editedItem.parent.startsWith(this.all_ssid[i].parent)){\n              x[i] = this.all_ssid[i];\n              this.ssidList.push(this.all_ssid[i].ssid)\n            }\n            if(this.editedItem.parent.startsWith(this.all_ssid[i].parent)||this.editedItem.parent.includes(this.all_ssid[i].parent)){\n              this.wlanid.splice(this.wlanid.indexOf(this.all_ssid[i].wlan_id), 1)\n            }\n          };\n          for (i in this.all_device) {\n            if(this.all_device[i].parent.includes(this.editedItem.parent)) y[i] = this.all_device[i];\n          };\n          for (i in this.all_command) {\n            if(this.editedItem.parent.startsWith(this.all_command[i].parent)) z[i] = this.all_command[i];\n          };\n          this.ssid = x;\n          this.device = y;\n          this.command = z;\n      },\n\n      addrules () {\n        this.ssidRules.push(v => this.ssidList.indexOf(v) < 0|| 'SSID already exist');\n        this.editedItem.wlan_id=this.wlanid[0];\n      },\n\n      cclose () {\n          if((!this.citems.description && !this.citems.command) || this.isSave){\n          this.$refs.cform.resetValidation()\n          this.cdialog = false\n          this.$nextTick(() => {\n            this.citems = Object.assign({}, this.defaultItem)\n            this.cIndex = -1\n            this.isSave = false\n          })\n        }else {\n          this.dialogCancel = true;\n        }\n      },\n      csave () {\n        if (this.cIndex > -1) {\n          this.citems.parent = this.editedItem.parent\n          try{\n          this.citems.model = this.modelArray.toString()\n          }catch(err){\n            console.log(\"try again\")\n          }\n          Object.assign(this.command[this.cIndex], this.citems)\n          var input_command= this.citems.command.split(/\\n/g);\n          var i, x = new Array(), body = '{';\n\n          for (i in input_command) {\n            if(input_command[i]!='!') body += ', Command: ' + input_command[i];\n          };\n\n          body += ',}';\n          \n\n            http\n              .put(\"/updatecommand/\" + this.citems.id, this.citems)\n              .then(response => {\n                console.log(response.data);\n              })\n              .catch(e => {\n                console.log(e);\n                console.log(\"hehe\");\n              });\n          for (i in this.device) {\n            console.log(\"if executing\")\n            if(this.modelArray.indexOf(this.device[i].model)>0 || this.modelArray.indexOf(\"ALL\")>0){\n              console.log(\"executing\")\n              config\n                  .get(\"/ExecuteGroupCommand/\"+this.device[i].serial_number+\", \"+this.citems.id)\n                  .then(response => {\n                  console.log(response.data);\n                  })\n                  .catch(e => {\n                  console.log(e);\n                  });\n            }\n          }\n\n        } else {\n          this.citems.parent = this.editedItem.parent\n          this.citems.model = this.modelArray.toString()\n          var input_command= this.citems.command.split(/\\n/g);\n          var i, x = new Array(), body = '{';\n\n          for (i in input_command) {\n            if(input_command[i]!='!') body += ', Command: ' + input_command[i];\n          };\n\n          body += ',}';\n          \n          \n          console.log(\"command: \" + body);\n          this.command.push(this.citems)\n          this.all_command.push(this.citems)\n            http\n                .post(\"/addcommand\", this.citems)\n                .then(response => {\n                this.command[this.command.length-1].id = response.data.id;    \n                this.all_command[this.all_command.length-1].id = response.data.id;   \n                console.log(response.data);\n                for (i in this.device) {\n                  console.log(\"if executing:\" + response.data.id)\n                  if(this.modelArray.indexOf(this.device[i].model)>0 || this.modelArray.indexOf(\"ALL\")){\n                    console.log(\"executing\")\n                    config\n                        .post(\"/ExecuteGroupCommand/\"+this.device[i].serial_number+\", \"+response.data.id)\n                        .then(response => {\n                        console.log(response.data);\n                        })\n                        .catch(e => {\n                        console.log(e);\n                        });\n                  }\n                }\n                })\n                .catch(e => {\n                console.log(e);\n                });\n\n        }\n        this.isSave = true\n        this.cclose()\n      },\n      save () {\n        if (this.editedIndex > -1) {\n          Object.assign(this.ssid[this.editedIndex], this.editedItem)\n          var v = this.editedItem.wlan_id;\n          var entype = '', passkey = this.editedItem.passphrase;\n          var vid = this.editedItem.vlan_id;\n          if(this.editedItem.encryption_mode=='Open'){\n            entype = 'None'\n            passkey = 'null'\n          }\n          else if(this.editedItem.encryption_mode=='WPA-PSK') entype = 'WPA-Personal'\n          else entype = 'WPA2-Personal'\n          if(this.editedItem.forward_mode=='Nat'){\n            vid = 'null'\n          }\n          var body = \"'{,Device.WiFi.SSID.\"+v+\".SSID:\"+this.editedItem.ssid+\",Device.WiFi.SSID.\"+v+\".LowerLayers:1&2,Device.WiFi.SSID.\"+v+\".X_WWW-RUIJIE-COM-CN_IsHidden:false,Device.WiFi.SSID.\"+v+\".X_WWW-RUIJIE-COM-CN_FowardType:\"+this.editedItem.forward_mode+\",Device.WiFi.SSID.\"+v+\".X_WWW-RUIJIE-COM-CN_VLANID:\"+vid+\",Device.WiFi.AccessPoint.\"+v+\".Security.ModeEnabled:\"+entype+\",Device.WiFi.AccessPoint.\"+v+\".Security.KeyPassphrase:\"+passkey+\",}'\"\n          var abody = \"'{,WiFiDog,\"+this.editedItem.portal_ip+\",\"+this.editedItem.portal_url+\",js,\"+this.editedItem.gateway_id+\",true,true}'\"\n          console.log(body);\n          console.log(abody);\n          var i;\n          http\n            .put(\"/updatessid/\" + this.editedItem.id, this.editedItem)\n            .then(response => {\n              console.log(response.data);\n            })\n            .catch(e => {\n              console.log(e);\n            });\n          for (i in this.device) {\n            config\n                .post(\"/AddSSID/\"+this.device[i].serial_number+\", \"+this.editedItem.id)\n                .then(response => {\n                console.log(response.data);\n                })\n                .catch(e => {\n                console.log(e);\n                });\n          }\n        } else {\n          var v = this.editedItem.wlan_id;\n          this.wlanid.splice(this.wlanid.indexOf(v), 1)\n          this.ssid.push(this.editedItem);\n          this.all_ssid.push(this.editedItem);\n          var i;\n            http\n                .post(\"/addssid\", this.editedItem)\n                .then(response => {\n                  this.ssid[this.ssid.length-1].id = response.data.id;\n                  this.all_ssid[this.all_ssid.length-1].id = response.data.id;\n                  for (i in this.device) {\n                    config\n                        .post(\"/AddSSID/\"+this.device[i].serial_number+\", \"+response.data.id)\n                        .then(response => {\n                        console.log(response.data);\n                        })\n                        .catch(e => {\n                        console.log(e);\n                        });\n                  }\n                })\n                .catch(e => {\n                console.log(e);\n                });\n\n        }\n        this.isSave = true\n        this.close()\n      },\n    },\n  }\n</script>"]}]}