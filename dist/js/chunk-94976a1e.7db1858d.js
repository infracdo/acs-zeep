(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-94976a1e"],{"129f":function(e,t,a){"use strict";e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}},"841c":function(e,t,a){"use strict";var i=a("c65b"),n=a("d784"),o=a("825a"),d=a("861d"),s=a("1d80"),l=a("129f"),r=a("577e"),c=a("dc4a"),u=a("14c3");n("search",(function(e,t,a){return[function(t){var a=s(this),n=d(t)?c(t,e):void 0;return n?i(n,t,a):new RegExp(t)[e](r(a))},function(e){var i=o(this),n=r(e),d=a(t,i,n);if(d.done)return d.value;var s=i.lastIndex;l(s,0)||(i.lastIndex=0);var c=u(i,n);return l(i.lastIndex,s)||(i.lastIndex=s),null===c?-1:c.index}]}))},"98ea":function(e,t,a){"use strict";a.r(t);var i=a("c6a6"),n=a("8336"),o=a("b0af"),d=a("99d9"),s=a("62ad"),l=a("8fea"),r=a("169a"),c=a("ce7e"),u=a("4bd4"),m=a("132d"),f=a("0fd9"),h=a("2fa4"),p=a("e0c7"),g=a("8654"),v=a("71d9"),I=a("2a7f"),x=a("3a2f"),_=a("5530"),b=(a("ac1f"),a("841c"),function(){var e=this,t=e._self._c;return t(l["a"],{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.group,search:e.search,"sort-by":"calories",loading:e.dataloaded<1,"loading-text":"Loading... Please wait"},scopedSlots:e._u([{key:"top",fn:function(){return[t(v["a"],{attrs:{flat:""}},[t(I["a"],[e._v("Groups")]),t(c["a"],{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t(g["a"],{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),t(x["a"],{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on;return[t(n["a"],e._g({attrs:{color:"primary",dark:"",icon:""},on:{click:e.initialize}},Object(_["a"])({},i)),[t(m["a"],[e._v("mdi-cached")])],1)]}}])},[t("span",[e._v("Refresh")])]),t(h["a"]),t(r["a"],{attrs:{"max-width":"1000px"},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on,o=a.attrs;return[t(n["a"],e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",o,!1),i),[e._v(" New Group ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(o["a"],[t(d["c"],[t("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),t(u["a"],{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(d["b"],[t(f["a"],{attrs:{"no-gutters":""}},[t(s["a"],{attrs:{cols:"1",md:"1"}},[t(p["a"],[e._v("Parent Group")])],1),t(s["a"],{attrs:{cols:"4",md:"4"}},[t(i["a"],{attrs:{items:e.group_list,outlined:"",dense:""},model:{value:e.editedItem.parent,callback:function(t){e.$set(e.editedItem,"parent",t)},expression:"editedItem.parent"}})],1),t(h["a"]),t(s["a"],{attrs:{cols:"1",md:"1"}},[t(p["a"],[t("div",{domProps:{innerHTML:e._s("Location <strong>*</strong>")}})])],1),t(s["a"],{attrs:{cols:"4",md:"4"}},[t(g["a"],{attrs:{rules:[function(e){return!!e||"Location is required"}],required:"",outlined:"",dense:""},on:{keydown:function(t){return e.filterKeyPress(t)}},model:{value:e.editedItem.location,callback:function(t){e.$set(e.editedItem,"location",t)},expression:"editedItem.location"}})],1)],1),t(f["a"],{attrs:{"no-gutters":""}},[t(s["a"],{attrs:{cols:"1",md:"1"}},[t(p["a"],[t("div",{domProps:{innerHTML:e._s("Group Name <strong>*</strong>")}})])],1),t(s["a"],{attrs:{cols:"4",md:"4"}},[t(g["a"],{attrs:{rules:[function(e){return!!e||"Group name cannot be empty"}],required:"",outlined:"",dense:""},on:{keydown:function(t){return e.filterKeyPress(t)}},model:{value:e.editedItem.group_name,callback:function(t){e.$set(e.editedItem,"group_name",t)},expression:"editedItem.group_name"}})],1)],1),t(p["a"],[t("div",{domProps:{innerHTML:e._s("<strong>* </strong> indicates required field")}})])],1)],1),t(d["a"],[t(h["a"]),t(n["a"],{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancel ")]),t(n["a"],{attrs:{color:"blue darken-1",text:"",disabled:!e.valid||!e.editedItem.location||!e.editedItem.group_name},on:{click:e.save}},[e._v(" Save ")])],1)],1)],1),t(r["a"],{attrs:{"max-width":"470px"},model:{value:e.dialogCancel,callback:function(t){e.dialogCancel=t},expression:"dialogCancel"}},[t(o["a"],[t(d["c"],{staticClass:"headline"},[e._v("Data has not been saved. Are you sure you want to proceed?")]),t(d["a"],[t(h["a"]),t(n["a"],{attrs:{color:"blue darken-1",text:""},on:{click:e.cancelClose}},[e._v("Cancel")]),t(n["a"],{attrs:{color:"blue darken-1",text:""},on:{click:e.cancelConfirm}},[e._v("OK")]),t(h["a"])],1)],1)],1),t(r["a"],{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[t(o["a"],[t(d["c"],{staticClass:"headline"},[e._v("Are you sure you want to delete this item?")]),t(d["a"],[t(h["a"]),t(n["a"],{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),t(n["a"],{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("OK")]),t(h["a"])],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(a){var i=a.item;return[t(m["a"],{staticClass:"mr-2",on:{click:function(t){return e.editItem(i)}}},[e._v(" mdi-pencil ")]),t(m["a"],{on:{click:function(t){return e.deleteItem(i)}}},[e._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){return[e._v(" No data to display ")]},proxy:!0}],null,!0)})}),k=[],y=(a("14d9"),a("a434"),a("466d"),a("c427")),C={data:function(){return{dataloaded:0,search:"",valid:!1,isSave:!1,dialog:!1,dialogDelete:!1,dialogCancel:!1,headers:[{text:"Group name",align:"start",sortable:!1,value:"group_name"},{text:"Parent",value:"parent"},{text:"Location",value:"location"},{text:"Action",value:"actions",sortable:!1}],group_list:[],group:[],editedIndex:-1,editedItem:{id:"",child:"",date_created:"",date_modified:"",group_name:"",location:"",parent:""},defaultItem:{child:"",date_created:"",date_modified:"",group_name:"",location:"",parent:""}}},computed:{formTitle:function(){return-1===this.editedIndex?"New Group":"Edit Group"}},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}},created:function(){this.initialize()},methods:{filterKeyPress:function(e){e.key.match(/^[a-zA-Z]|^-|^_|^\d*$/)||e.preventDefault()},initialize:function(){var e=this;this.dataloaded=0,y["a"].get("/getgroup",{timeout:5e3}).then((function(t){e.group=t.data;var a,i=new Array;for(a in e.group)i[a]=t.data[a].parent+"/"+t.data[a].group_name;e.group_list=i,e.dataloaded=1,console.log(t.data)})).catch((function(t){console.log(t),e.dataloaded=1}))},editItem:function(e){this.dialog=!0,this.editedIndex=this.group.indexOf(e),this.editedItem=Object.assign({},e)},cancelConfirm:function(){this.editedItem.group_name="",this.editedItem.location="",this.close(),this.cancelClose()},deleteItem:function(e){this.editedIndex=this.group.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm:function(){this.group.splice(this.editedIndex,1),this.closeDelete(),y["a"].delete("/deletegroup/"+this.editedItem.id).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))},cancelClose:function(){this.dialogCancel=!1},close:function(){var e=this;!this.editedItem.group_name&&!this.editedItem.location||this.isSave?(this.$refs.form.resetValidation(),this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1,e.isSave=!1}))):this.dialogCancel=!0},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){var e=this;this.editedIndex>-1?(Object.assign(this.group[this.editedIndex],this.editedItem),y["a"].put("/updategroup/"+this.editedItem.id,this.editedItem).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))):(this.group.push(this.editedItem),this.group_list.push(this.editedItem.parent+"/"+this.editedItem.group_name),y["a"].post("/addgroup",this.editedItem).then((function(t){e.group[e.group.length-1].id=t.data.id,console.log(t.data)})).catch((function(e){console.log(e)}))),this.isSave=!0,this.close()}}},w=C,D=a("2877"),O=Object(D["a"])(w,b,k,!1,null,null,null);t["default"]=O.exports}}]);
//# sourceMappingURL=chunk-94976a1e.7db1858d.js.map