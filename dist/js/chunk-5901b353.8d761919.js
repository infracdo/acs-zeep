(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5901b353"],{"9dee":function(t,e,a){"use strict";a.r(e);var s=a("b0af"),n=a("99d9"),r=a("62ad"),o=a("a523"),i=a("8fea"),c=a("0fd9"),l=a("b974"),d=function(){var t=this,e=t._self._c;return e(o["a"],{staticClass:"pa-5",attrs:{fluid:""}},[e(s["a"],{staticClass:"pa-4 mb-6"},[e(n["c"],{staticClass:"pa-0"},[t._v(" Overall Summary ")]),e(c["a"],t._l(t.cardsOverallSummary,(function(a,o){return e(r["a"],{key:o,attrs:{cols:"12",sm:"6",md:"4"}},[e(s["a"],{style:{backgroundColor:a.color}},[e(n["c"],{staticClass:"font-weight-bold text-h3 text-right",staticStyle:{"text-align":"right",display:"block",color:"white"}},[t._v(" "+t._s(a.value)+" ")]),e(n["b"],{staticClass:"text-right text-subtitle-2",staticStyle:{color:"white"}},[t._v(" "+t._s(a.title)+" ")])],1)],1)})),1)],1),e(s["a"],{staticClass:"pa-4 mb-6"},[e(c["a"],{staticClass:"ma-0",attrs:{align:"center"}},[e(r["a"],{staticClass:"pa-0"},[e(n["c"],{staticClass:"pa-0 mb-3"},[t._v(" List of Access Points ")])],1),e(r["a"],{staticClass:"pa-0",attrs:{cols:"auto"}},[e(l["a"],{staticStyle:{width:"20em"},attrs:{flat:"","solo-inverted":"","hide-details":"",items:t.formattedAccessPointOptions,"item-text":"text","item-value":"value",label:"Select Access Point (AP)"},on:{change:t.onAPChange},model:{value:t.selectedAccessPoint,callback:function(e){t.selectedAccessPoint=e},expression:"selectedAccessPoint"}})],1)],1),e(r["a"],{staticClass:"pa-0"},[e(c["a"],t._l(t.cardsAP,(function(a,o){return e(r["a"],{key:o,attrs:{cols:"12",sm:"6",md:"4"}},[e(s["a"],{style:{backgroundColor:a.color}},[e(n["c"],{staticClass:"font-weight-bold text-h3 text-right",staticStyle:{"text-align":"right",display:"block",color:"white"}},[t._v(" "+t._s(a.value)+" ")]),e(n["b"],{staticClass:"text-right text-subtitle-2",staticStyle:{color:"white"}},[t._v(" "+t._s(a.title)+" ")])],1)],1)})),1),e(s["a"],{staticClass:"mt-3"},[e(n["c"],[t._v(" List of Currently Connected Users ")]),e("div",{staticStyle:{"overflow-x":"auto"}},[e(i["a"],{staticClass:"header-nowrap",staticStyle:{"min-width":"1000px"},attrs:{dense:"",headers:t.headers,items:t.connectedUsers,"item-key":"macAddress",loading:t.loading,"loading-text":"Loading... Please wait"},scopedSlots:t._u([{key:"item.bandwidthMB",fn:function({item:e}){return[t._v(" "+t._s(e.bandwidthMB)+" ")]}},{key:"item.timestamp",fn:function({item:e}){return[t._v(" "+t._s(t.formatTimestamp(e.timestamp))+" ")]}},{key:"item.calling_station_id",fn:function({item:e}){return[t._v(" "+t._s(t.formatMacAddress(e.calling_station_id))+" ")]}}])})],1)],1)],1)],1)],1)},u=[],h=(a("e9f5"),a("f665"),a("7d54"),a("ab43"),a("c427"));class p{getCountCurrentlyConnectedUsers(){return h["a"].get("/api/radius/count-currently-connected-users")}getCountCurrentlyConnectedAPs(){return h["a"].get("/api/radius/count-currently-connected-aps")}getTotalUserConnectionsToday(){return h["a"].get("/api/radius/total-user-connections-today")}getTotalBandwidthConsumptionToday(){return h["a"].get("/api/radius/total-bandwidth-consumption-today")}getAverageConnectionTime(){return h["a"].get("/api/radius/average-connection-time")}getAverageBandwidthPerConnection(){return h["a"].get("/api/radius/average-bandwidth-per-connection")}getCountCurrentlyConnectedUsersPerAP(){return h["a"].get("/api/radius/count-currently-connected-users-per-ap")}getCurrentlyConnectedUsersPerAP(){return h["a"].get("/api/radius/currently-connected-users-per-ap")}getAccessPoints(){return h["a"].get("/api/radius/access-points")}}var g=new p,m={name:"MonitoringDashboard",data(){return{cardsOverallSummary:[{title:"Currently Connected Users",value:0,color:"#66BB6A",key:"connectedUsers"},{title:"Currently Connected Access Points",value:0,color:"#4DB6AC",key:"connectedAPs"},{title:"Total User Connections Today",value:0,color:"#FFB74D",key:"totalUserConnectionsToday"},{title:"Total Bandwidth Consumption Today",value:0,color:"#FDD835",key:"totalBandwidthConsumptionToday"},{title:"Average Connection Time",value:0,color:"#1E88E5",key:"averageConnectionTime"},{title:"Average Bandwidth Per Connection",value:0,color:"#E57373",key:"averageBandwidthPerConnection"}],cardsAP:[{title:"Currently Connected Users",value:0,color:"#66BB6A",key:"connectedUsersPerAP"}],headers:[{text:"Username",align:"start",sortable:!0,value:"username"},{text:"Account Input Octets",align:"start",sortable:!0,value:"acctinputoctets"},{text:"Account Output Octets",align:"start",sortable:!0,value:"acctoutputoctets"},{text:"NAS Port",align:"start",sortable:!1,value:"nasport"},{text:"Calling Station ID",align:"start",sortable:!0,value:"calling_station_id"},{text:"Timestamp",align:"start",sortable:!0,value:"timestamp"}],connectedUsersPerAP:0,connectedUsersPerAPMap:{},connectedUsers:[],allConnectedUsersData:[],currentConnectedAPs:[],accessPointOptions:[],selectedAccessPoint:null,loading:!1,fetchInterval:null}},computed:{formattedAccessPointOptions(){return this.accessPointOptions.map(t=>{const[e,a]=t.value.split(":"),s=this.formatMacAddress(e);return{text:`${s} - ${a}`,value:t.value}})}},async created(){await this.fetchData(),this.fetchInterval=setInterval(()=>{this.fetchData()},3e4)},beforeDestroy(){clearInterval(this.fetchInterval)},methods:{async fetchData(){try{this.loading=!0;const[t,e,a,s,n,r,o,i,c]=await Promise.all([g.getCountCurrentlyConnectedUsers(),g.getCountCurrentlyConnectedAPs(),g.getTotalUserConnectionsToday(),g.getTotalBandwidthConsumptionToday(),g.getAverageConnectionTime(),g.getAverageBandwidthPerConnection(),g.getCountCurrentlyConnectedUsersPerAP(),g.getCurrentlyConnectedUsersPerAP(),g.getAccessPoints()]);this.cardsOverallSummary[0].value=t.data.currentlyConnectedUsers,this.cardsOverallSummary[1].value=e.data.currentlyConnectedAPs,this.cardsOverallSummary[2].value=a.data.totalUserConnectionsToday,this.cardsOverallSummary[3].value=s.data.totalBandwidthConsumptionToday,this.cardsOverallSummary[4].value=n.data.averageConnectionTime,this.cardsOverallSummary[5].value=r.data.averageBandwidthPerConnection,this.connectedUsersPerAPMap={},o.data.forEach(t=>{this.connectedUsersPerAPMap[t.calledStationId]=t.currentlyConnectedUsers}),this.allConnectedUsersData=i.data,this.accessPointOptions=c.data.accessPoints.map(t=>({text:t,value:t})),this.accessPointOptions.length>0&&(this.selectedAccessPoint=this.accessPointOptions[0].value,this.loadUsersForSelectedAP())}catch(t){console.error("Error fetching data: ",t)}finally{this.loading=!1}},onAPChange(t){this.selectedAccessPoint=t,this.loadUsersForSelectedAP()},loadUsersForSelectedAP(){var t;if(!this.selectedAccessPoint)return;this.connectedUsersPerAP=this.connectedUsersPerAPMap[this.selectedAccessPoint]||0,this.cardsAP[0].value=this.connectedUsersPerAP;const e=this.allConnectedUsersData.find(t=>t.called_station_id===this.selectedAccessPoint);this.connectedUsers=(null===e||void 0===e||null===(t=e.currently_connected_users)||void 0===t?void 0:t.map(t=>({...t,timestamp:Number(t.timestamp)||null})))||[]},formatTimestamp(t){if(!t)return"N/A";const e=new Date(1e3*t),a=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),r=String(e.getHours()).padStart(2,"0"),o=String(e.getMinutes()).padStart(2,"0"),i=String(e.getSeconds()).padStart(2,"0");return`${a}-${s}-${n} ${r}:${o}:${i}`},formatMacAddress(t){var e;if(!t)return"";const a=t.replace(/[^a-fA-F0-9]/g,"").toUpperCase();return(null===(e=a.match(/.{1,2}/g))||void 0===e?void 0:e.join(":"))||t}}},f=m,v=(a("b5e2"),a("2877")),C=Object(v["a"])(f,d,u,!1,null,"ed547cbe",null);e["default"]=C.exports},a523:function(t,e,a){"use strict";a("20f6"),a("4b85");var s=a("e8f2"),n=a("d9f7");e["a"]=Object(s["a"])("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render(t,{props:e,data:a,children:s}){let r;const{attrs:o}=a;return o&&(a.attrs={},r=Object.keys(o).filter(t=>{if("slot"===t)return!1;const e=o[t];return t.startsWith("data-")?(a.attrs[t]=e,!1):e||"string"===typeof e})),e.id&&(a.domProps=a.domProps||{},a.domProps.id=e.id),t(e.tag,Object(n["a"])(a,{staticClass:"container",class:Array({"container--fluid":e.fluid}).concat(r||[])}),s)}})},ab43:function(t,e,a){"use strict";var s=a("23e7"),n=a("c65b"),r=a("59ed"),o=a("825a"),i=a("46c4"),c=a("c5cc"),l=a("9bdd"),d=a("2a62"),u=a("f99f"),h=a("c430"),p=!h&&u("map",TypeError),g=c((function(){var t=this.iterator,e=o(n(this.next,t)),a=this.done=!!e.done;if(!a)return l(t,this.mapper,[e.value,this.counter++],!0)}));s({target:"Iterator",proto:!0,real:!0,forced:h||p},{map:function(t){o(this);try{r(t)}catch(e){d(this,"throw",e)}return p?n(p,this,t):new g(i(this),{mapper:t})}})},b5e2:function(t,e,a){"use strict";a("c872")},c872:function(t,e,a){},e8f2:function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));var s=a("a026");function n(t){return s["a"].extend({name:"v-"+t,functional:!0,props:{id:String,tag:{type:String,default:"div"}},render(e,{props:a,data:s,children:n}){s.staticClass=`${t} ${s.staticClass||""}`.trim();const{attrs:r}=s;if(r){s.attrs={};const t=Object.keys(r).filter(t=>{if("slot"===t)return!1;const e=r[t];return t.startsWith("data-")?(s.attrs[t]=e,!1):e||"string"===typeof e});t.length&&(s.staticClass+=" "+t.join(" "))}return a.id&&(s.domProps=s.domProps||{},s.domProps.id=a.id),e(a.tag,s,n)}})}},f665:function(t,e,a){"use strict";var s=a("23e7"),n=a("c65b"),r=a("2266"),o=a("59ed"),i=a("825a"),c=a("46c4"),l=a("2a62"),d=a("f99f"),u=d("find",TypeError);s({target:"Iterator",proto:!0,real:!0,forced:u},{find:function(t){i(this);try{o(t)}catch(s){l(this,"throw",s)}if(u)return n(u,this,t);var e=c(this),a=0;return r(e,(function(e,s){if(t(e,a++))return s(e)}),{IS_RECORD:!0,INTERRUPTED:!0}).result}})}}]);
//# sourceMappingURL=chunk-5901b353.8d761919.js.map